
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	//ИзменитьСКД();
КонецПроцедуры

&НаСервере
Процедура ИзменитьСКД()
	//ОтчетОбъект = РеквизитФормыВЗначение("Отчет");
	ОтчетОбъект = ДанныеФормыВЗначение(Отчет, Тип("ОтчетОбъект.СКД_ПрограммноеСозданиеЭлементов"));
	Если Ложь Тогда
		ОтчетОбъект = Отчеты.СКД_ВычислитьВыражение.Создать();
	КонецЕсли;
	
	СКД = ОтчетОбъект.СхемаКомпоновкиДанных;
	КомпоновщикНастроек = ОтчетОбъект.КомпоновщикНастроек;
	//Настройки = КомпоновщикНастроек.ПолучитьНастройки();
	Настройки = КомпоновщикНастроек.Настройки;
	
	ВыбранноеПоле = Настройки.Выбор.Элементы[0];
	ВыбранноеПоле.Использование = Истина;
	НаборДанных = СКД.НаборыДанных[0];
	НаборДанных.Запрос = "Выбрать 1 как Поле1, 3 как Поле2";
	
	//АдресХранилищаСКД = ПоместитьВоВременноеХранилище(СКД, ЭтаФорма.УникальныйИдентификатор);
	//ИсточникНастроек = Новый ИсточникДоступныхНастроекКомпоновкиДанных(АдресХранилищаСКД);	
	//КомпоновщикНастроек.Инициализировать(ИсточникНастроек);
	//КомпоновщикНастроек.ЗагрузитьНастройки(СКД.НастройкиПоУмолчанию);
	
	КомпоновщикМакета = Новый КомпоновщикМакетаКомпоновкиДанных;
	КомпоновщикМакета.Выполнить(СКД, Настройки, , );
	
	//Если Ложь Тогда
	//	СКД = Новый СхемаКомпоновкиДанных;
	//КонецЕсли;
	//
	//НаборДанных = СКД.НаборыДанных.Добавить(Тип("НаборДанныхЗапросСхемыКомпоновкиДанных"));
	//НаборДанных.Запрос = "Выбрать 3 как Поле3";
	//НаборДанных.ИсточникДанных = "ИсточникДанных1";
	////
	//поле = наборДанных.Поля.Добавить(Тип("ПолеНабораДанныхСхемыКомпоновкиДанных"));
	//поле.Поле = "Поле3";
	//поле.ПутьКДанным = "Поле3";            
	//
	//КомпоновщикНастроек.ЗагрузитьНастройки(Настройки);
	//ЗначениеВРеквизитФормы(ОтчетОбъект, "Отчет");
	ЗначениеВДанныеФормы(ОтчетОбъект, Отчет);
	
	//ВыбранноеПоле = Настройки.Выбор.Элементы.Добавить(Тип("ВыбранноеПолеКомпоновкиДанных"));
	//ВыбранноеПоле.Использование = Истина;
	//ВыбранноеПоле.Поле = Новый ПолеКомпоновкиДанных("Поле3");
	//Отчет.КомпоновщикНастроек.ЗагрузитьНастройки(Настройки);
	

КонецПроцедуры


&НаКлиенте
Процедура ИзменитьСКД1(Команда)
	ИзменитьСКД();
КонецПроцедуры


&НаКлиенте
Процедура ПриОткрытии(Отказ)
	//ИзменитьСКД();
КонецПроцедуры

